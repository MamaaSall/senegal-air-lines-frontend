<div class="container">
  <h1>Application de gestion de vols Sénégal airlines</h1>

  <div class="card">
    <div class="card-header">
      Vols
    </div>
    <div class="card-body">
      <h5 class="card-title">Liste des vols</h5>

      <form [formGroup]="volForm" (ngSubmit)="onSubmit()">

        <div class="row">
          <div class="col-6 mb-3">
            <label for="countryArrival" class="form-label">Pays de départ</label>
            <input type="text" class="form-control" id="countryDeparture" formControlName="countryDeparture">

            <div *ngIf="submitted && f['countryDeparture'].errors" class="invalid-feedback">
              <div *ngIf="f['countryDeparture'].errors['required']">Ce champs est réquis</div>
            </div>
          </div>

          <div class="col-6 mb-3">
            <label for="countryDeparture" class="form-label">Pays d'arriver</label>
            <input class="form-control" formControlName="countryArrival" id="countryArrival" type="text">

            <div *ngIf="submitted && f['countryArrival'].errors" class="invalid-feedback">
              <div *ngIf="f['countryArrival'].errors['required']">Ce champs est réquis</div>
            </div>
          </div>
        </div>

        <div>
          <button class="btn btn-primary" [disabled]="volForm.invalid" type="submit">
            Valider
          </button>
        </div>

      </form>

      <div class="mt-3">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Numéro</th>
              <th scope="col">Pays de départ</th>
              <th scope="col">Pays d'arriver</th>
              <th scope="col">Compagnie</th>
              <th scope="col">Prix</th>
              <th scope="col">Crée à</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody *ngFor="let vol of vols">
            <tr>
              <td>{{vol.id}}</td>
              <td>{{vol.number}}</td>
              <td>{{vol.countryDeparture}}</td>
              <td>{{vol.countryArrival}}</td>
              <td>{{vol.company}}</td>
              <td>{{vol.price}}</td>
              <td>{{vol.createdAt}}</td>
              <td>
                <a class="btn btn-info btn-sm" [routerLink]="['vol', vol.number]">
                  Information du vol
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
